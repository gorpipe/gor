

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Column Modifications &mdash; GOR Open Source v.2.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/gorpipe.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Grouping and Aggregation" href="groupingAndAggregation.html" />
    <link rel="prev" title="Filtering Streams" href="filteringStreams.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <nav class="wy-master-nav">
    <div class="gor-logo-home">
        <a href="index.html">
            <img src="_static/GORLogoText.svg" class="logo" />
        </a>
    </div>
    <div role="search" class="wxnc-search-form">
        <button class="wxnc-search-button" form="wxnc-search-form" formmethod="get">
            <i class="fa fa-search" aria-hidden="true"> </i>
        </button>
        <form id="wxnc-search-form" class="wy-form" action="search.html" method="get">
            <input class="wxnc-no-right-border" size="30" type="text" name="q" placeholder="Search the user manual..."/>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
    </div>
</nav>

  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            
            
              <div class="version">
                <a href="index.html">
                  GOR Open Source
                  <p class="wxnc-subtitle">Documentation</p>
                </a>
              </div>
            
          

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="introduction.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="basicGORqueries.html">GOR and NOR</a></li>
<li class="toctree-l2"><a class="reference internal" href="filteringStreams.html">Filtering Streams</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Column Modifications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#calculated-columns">Calculated Columns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#replacing-columns-with-calculated-columns">Replacing Columns with Calculated Columns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prefix-and-rename">Prefix and Rename</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#more-about-prefixes">More about prefixes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#adding-row-numbers">Adding Row Numbers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="groupingAndAggregation.html">Grouping and Aggregation</a></li>
<li class="toctree-l2"><a class="reference internal" href="nestedStreams.html">Nested Streams</a></li>
<li class="toctree-l2"><a class="reference internal" href="joiningTables.html">Joining Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="mapMultimap.html">Map and Multimap</a></li>
<li class="toctree-l2"><a class="reference internal" href="pivoting.html">Pivoting</a></li>
<li class="toctree-l2"><a class="reference internal" href="sequenceReads.html">Sequence Reads</a></li>
<li class="toctree-l2"><a class="reference internal" href="variantData.html">Variation Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="materializedViews.html">Materialized Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallelGOR.html">Parallelization in GOR</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#what-is-gor">What is GOR?</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#writing-gor-queries">Writing GOR queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#reference-data">Reference Data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="commands.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="functions.html">Functions</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GOR Open Source</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="introduction.html">Tutorials</a> &raquo;</li>
        
      <li>Column Modifications</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="column-modifications">
<span id="columnmodifications"></span><h1>Column Modifications<a class="headerlink" href="#column-modifications" title="Permalink to this headline">¶</a></h1>
<p>In this chapter, we will be going through several of the commands in the GOR query language that allow us to add columns to the GOR stream by calculating data and manipulating the columns’ titles in various ways to organize the data better.</p>
<p>To show examples of column modifications, we will be taking the example of the <code class="docutils literal notranslate"><span class="pre">#dbsnp#</span></code> table shown below:</p>
<table class="docutils align-default" id="table-1">
<caption><span class="caption-text">#dbsnp# (showing different Indel examples)</span><a class="headerlink" href="#table-1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 12.5%" />
<col style="width: 25.0%" />
<col style="width: 12.5%" />
<col style="width: 12.5%" />
<col style="width: 37.5%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Chrom</p></th>
<th class="head"><p>POS</p></th>
<th class="head"><p>reference</p></th>
<th class="head"><p>allele</p></th>
<th class="head"><p>rsIDs</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>chr1</p></td>
<td><p>10233</p></td>
<td><p>CCTAACCCTAACCCTAAACCCTAAACCC</p></td>
<td><p>C</p></td>
<td><p>rs200462216</p></td>
</tr>
<tr class="row-odd"><td><p>chr1</p></td>
<td><p>10332</p></td>
<td><p>CCTAACCCTAACCCTAACCCTACCC</p></td>
<td><p>C</p></td>
<td><p>rs201106462</p></td>
</tr>
<tr class="row-even"><td><p>chr1</p></td>
<td><p>10621</p></td>
<td><p>GTTGCAAAGGCGCGCCGCGCCG</p></td>
<td><p>G</p></td>
<td><p>rs376342519</p></td>
</tr>
<tr class="row-odd"><td><p>chr1</p></td>
<td><p>12940</p></td>
<td><p>AAACA</p></td>
<td><p>A</p></td>
<td><p>rs756849893</p></td>
</tr>
<tr class="row-even"><td><p>chr1</p></td>
<td><p>13421</p></td>
<td><p>A</p></td>
<td><p>AGAGA</p></td>
<td><p>rs777038595</p></td>
</tr>
<tr class="row-odd"><td><p>chr1</p></td>
<td><p>15189</p></td>
<td><p>CGGGCACTGATGAGACAGCGGC</p></td>
<td><p>C</p></td>
<td><p>rs768510816</p></td>
</tr>
</tbody>
</table>
<div class="highlight-gor notranslate"><div class="highlight"><pre><span></span><span class="nd">gor</span> #dbsnp# | <span class="nb">WHERE</span> len(<span class="na">reference</span>) &gt; 4 OR len(<span class="na">allele</span>) &gt; 4 | <span class="nb">TOP</span> 6
</pre></div>
</div>
<p>As can be seen above, the <code class="docutils literal notranslate"><span class="pre">#dbsnp#</span></code> table shows different variants that can occur at various positions on each chromosome. In the example above, we have selected several rows that illustrate five different deletions and a single insertion, which will provide us with a good example for our next topics.</p>
<section id="calculated-columns">
<span id="addingcalccolumns"></span><h2>Calculated Columns<a class="headerlink" href="#calculated-columns" title="Permalink to this headline">¶</a></h2>
<p>Using the <a class="reference internal" href="command/CALC.html#calc"><span class="std std-ref">CALC</span></a> command in a GOR query, we can add columns to the GOR output. For example, we can add a column that shows the length of the reference string using the same <strong>len</strong> function that we used in the <a class="reference internal" href="command/WHERE.html#where"><span class="std std-ref">WHERE</span></a> from the above query.</p>
<table class="docutils align-default" id="table-2">
<caption><span class="caption-text">#dbsnp# (with a calculated column showing the reference length)</span><a class="headerlink" href="#table-2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 11.1%" />
<col style="width: 11.1%" />
<col style="width: 33.3%" />
<col style="width: 11.1%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Chrom</p></th>
<th class="head"><p>POS</p></th>
<th class="head"><p>reference</p></th>
<th class="head"><p>allele</p></th>
<th class="head"><p>rsIDs</p></th>
<th class="head"><p>refLength</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>chr1</p></td>
<td><p>10233</p></td>
<td><p>CCTAACCCTAACCCTAAACCCTAAACCC</p></td>
<td><p>C</p></td>
<td><p>rs200462216</p></td>
<td><p>28</p></td>
</tr>
<tr class="row-odd"><td><p>chr1</p></td>
<td><p>10332</p></td>
<td><p>CCTAACCCTAACCCTAACCCTACCC</p></td>
<td><p>C</p></td>
<td><p>rs201106462</p></td>
<td><p>25</p></td>
</tr>
<tr class="row-even"><td><p>chr1</p></td>
<td><p>10621</p></td>
<td><p>GTTGCAAAGGCGCGCCGCGCCG</p></td>
<td><p>G</p></td>
<td><p>rs376342519</p></td>
<td><p>22</p></td>
</tr>
<tr class="row-odd"><td><p>chr1</p></td>
<td><p>12940</p></td>
<td><p>AAACA</p></td>
<td><p>A</p></td>
<td><p>rs756849893</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>chr1</p></td>
<td><p>13421</p></td>
<td><p>A</p></td>
<td><p>AGAGA</p></td>
<td><p>rs777038595</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>chr1</p></td>
<td><p>15189</p></td>
<td><p>CGGGCACTGATGAGACAGCGGC</p></td>
<td><p>C</p></td>
<td><p>rs768510816</p></td>
<td><p>22</p></td>
</tr>
</tbody>
</table>
<div class="highlight-gor notranslate"><div class="highlight"><pre><span></span><span class="nd">gor</span> #dbsnp# | <span class="nb">WHERE</span> len(<span class="na">reference</span>) &gt; 4 OR len(<span class="na">allele</span>) &gt; 4 | <span class="nb">CALC</span> refLength len(<span class="na">reference</span>) | <span class="nb">TOP</span> 6
</pre></div>
</div>
<p>As you can see above, a <em>refLength</em> column has been added to the end of the output with the base length of the reference column.</p>
</section>
<section id="replacing-columns-with-calculated-columns">
<h2>Replacing Columns with Calculated Columns<a class="headerlink" href="#replacing-columns-with-calculated-columns" title="Permalink to this headline">¶</a></h2>
<p>You may also choose to replace an existing column with some calculated data. The <a class="reference internal" href="command/REPLACE.html#replace"><span class="std std-ref">REPLACE</span></a> command can be used to replace any column in the output (other than the Chrom and POS columns, which must always be present in the GOR stream). It works exactly like the <a class="reference internal" href="command/CALC.html#calc"><span class="std std-ref">CALC</span></a> command, but instead of adding a column and specifying the name of the column, you specify the name of the column that you wish to replace.</p>
<p>For example, the following query replaces the rsIDs in the <code class="docutils literal notranslate"><span class="pre">#dbsnp</span></code> table with the listsize of the content of the rsIDs cells.</p>
<div class="highlight-gor notranslate"><div class="highlight"><pre><span></span><span class="nd">gor</span> #dbsnp# | <span class="nb">REPLACE</span> <span class="na">rsIDs</span> listsize(<span class="na">rsIDs</span>) | <span class="nb">TOP</span> 10
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Care should be taken when replacing columns with calculated content that the name of the column still makes sense.</p>
</aside>
</section>
<section id="prefix-and-rename">
<h2>Prefix and Rename<a class="headerlink" href="#prefix-and-rename" title="Permalink to this headline">¶</a></h2>
<p>The column names and column order can be managed with commands such as <a class="reference internal" href="command/RENAME.html#rename"><span class="std std-ref">RENAME</span></a>, <a class="reference internal" href="command/PREFIX.html#prefix"><span class="std std-ref">PREFIX</span></a> and <a class="reference internal" href="command/COLUMNSORT.html#columnsort"><span class="std std-ref">COLUMNSORT</span></a>. As an example, in the following gor query, :</p>
<div class="highlight-gor notranslate"><div class="highlight"><pre><span></span><span class="nd">gor</span> #dbsnp# | <span class="nb">CALC</span> splitprefix_cols listsize(<span class="na">rsIDs</span>) | <span class="nb">CALC</span> splitprefix_1 <span class="k">listfilter</span>(<span class="na">rsIDs</span>,&#39;i=1&#39;)
| <span class="nb">CALC</span> splitprefix_2 <span class="k">listfilter</span>(<span class="na">rsIDs</span>,&#39;i=2&#39;) | <span class="nb">RENAME</span> splitprefix_(.*) #{1}
| <span class="nb">PREFIX</span> <span class="na">rsIDs</span>[+1]- differentprefix | <span class="nb">COLUMNSORT</span> 1-4,different* | top 10
</pre></div>
</div>
<p>The <a class="reference internal" href="command/RENAME.html#rename"><span class="std std-ref">RENAME</span></a> command supports regular expression match on columns and the binding variable are referred to as #{n}. In the example above, the rename eliminates <code class="docutils literal notranslate"><span class="pre">splitprefix_</span></code> from all columns having the corresponding prefix. The <a class="reference internal" href="command/PREFIX.html#prefix"><span class="std std-ref">PREFIX</span></a> command adds a new prefix, “differentprefix”, to all the columns to the right of the rsIDs column and, finally, the <a class="reference internal" href="command/COLUMNSORT.html#columnsort"><span class="std std-ref">COLUMNSORT</span></a> command lists the new output order of columns. Note that since all the columns are in the output, those who are not listed will be placed in alphabetical order. Thus, the <a class="reference internal" href="command/COLUMNSORT.html#columnsort"><span class="std std-ref">COLUMNSORT</span></a> command makes it easy to emphasize certain columns as the left-most columns in the output.</p>
<section id="more-about-prefixes">
<h3>More about prefixes<a class="headerlink" href="#more-about-prefixes" title="Permalink to this headline">¶</a></h3>
<p>It can be useful, particularly when working with <a class="reference internal" href="joiningTables.html#joiningtables"><span class="std std-ref">joins</span></a>, to add prefixes to column names to the columns that come from one of the sources to distinguish between analogous columns from two or more tables. However, the <a class="reference internal" href="command/PREFIX.html#prefix"><span class="std std-ref">PREFIX</span></a> command can be used to prefix any column name.</p>
<p>Using our <a class="reference internal" href="command/CALC.html#calc"><span class="std std-ref">CALC</span></a> example from above, we could prefix the calculated column with a <em>calc_</em> as shown below:</p>
<table class="docutils align-default" id="table-3">
<caption><span class="caption-text">#dbsnp# (with a calculated column showing the reference length)</span><a class="headerlink" href="#table-3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 11.1%" />
<col style="width: 11.1%" />
<col style="width: 33.3%" />
<col style="width: 11.1%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Chrom</p></th>
<th class="head"><p>POS</p></th>
<th class="head"><p>reference</p></th>
<th class="head"><p>allele</p></th>
<th class="head"><p>rsIDs</p></th>
<th class="head"><p>calc_refLength</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>chr1</p></td>
<td><p>10233</p></td>
<td><p>CCTAACCCTAACCCTAAACCCTAAACCC</p></td>
<td><p>C</p></td>
<td><p>rs200462216</p></td>
<td><p>28</p></td>
</tr>
<tr class="row-odd"><td><p>chr1</p></td>
<td><p>10332</p></td>
<td><p>CCTAACCCTAACCCTAACCCTACCC</p></td>
<td><p>C</p></td>
<td><p>rs201106462</p></td>
<td><p>25</p></td>
</tr>
<tr class="row-even"><td><p>chr1</p></td>
<td><p>10621</p></td>
<td><p>GTTGCAAAGGCGCGCCGCGCCG</p></td>
<td><p>G</p></td>
<td><p>rs376342519</p></td>
<td><p>22</p></td>
</tr>
<tr class="row-odd"><td><p>chr1</p></td>
<td><p>12940</p></td>
<td><p>AAACA</p></td>
<td><p>A</p></td>
<td><p>rs756849893</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>chr1</p></td>
<td><p>13421</p></td>
<td><p>A</p></td>
<td><p>AGAGA</p></td>
<td><p>rs777038595</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>chr1</p></td>
<td><p>15189</p></td>
<td><p>CGGGCACTGATGAGACAGCGGC</p></td>
<td><p>C</p></td>
<td><p>rs768510816</p></td>
<td><p>22</p></td>
</tr>
</tbody>
</table>
<div class="highlight-gor notranslate"><div class="highlight"><pre><span></span><span class="nd">gor</span> #dbsnp# | <span class="nb">WHERE</span> len(<span class="na">reference</span>) &gt; 4 OR len(<span class="na">allele</span>) &gt; 4 | <span class="nb">CALC</span> refLength len(<span class="na">reference</span>) | <span class="nb">PREFIX</span> refLength calc
</pre></div>
</div>
<p>Prefixes can also be useful with <a class="reference internal" href="command/SELECT.html#select"><span class="std std-ref">SELECT</span></a> commands. We could, for example, prefix the variation data in a GOR stream with “var-” and then refer to all of the variation data columns in a <a class="reference internal" href="command/SELECT.html#select"><span class="std std-ref">SELECT</span></a> command with <code class="docutils literal notranslate"><span class="pre">var*</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is not necessary to add the underscore to the prefix that you specify in the query. The underscore is added automatically.</p>
</aside>
</section>
</section>
<section id="adding-row-numbers">
<h2>Adding Row Numbers<a class="headerlink" href="#adding-row-numbers" title="Permalink to this headline">¶</a></h2>
<p>It is possible to add a column with row numbers to the GOR output by using the <a class="reference internal" href="command/ROWNUM.html#rownum"><span class="std std-ref">ROWNUM</span></a> command. Rows in the output will be given unique, sequential row numbers, based on the number of rows that have been passed through the query.</p>
<p>The <a class="reference internal" href="command/ROWNUM.html#rownum"><span class="std std-ref">ROWNUM</span></a> command takes no extra parameters and can be added to a GOR query as the following example shows:</p>
<table class="docutils align-default" id="table-4">
<caption><span class="caption-text">#dbsnp# (with a calculated column showing the reference length)</span><a class="headerlink" href="#table-4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 11.1%" />
<col style="width: 11.1%" />
<col style="width: 33.3%" />
<col style="width: 11.1%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Chrom</p></th>
<th class="head"><p>POS</p></th>
<th class="head"><p>reference</p></th>
<th class="head"><p>allele</p></th>
<th class="head"><p>rsIDs</p></th>
<th class="head"><p>rownum</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>chr1</p></td>
<td><p>10233</p></td>
<td><p>CCTAACCCTAACCCTAAACCCTAAACCC</p></td>
<td><p>C</p></td>
<td><p>rs200462216</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>chr1</p></td>
<td><p>10332</p></td>
<td><p>CCTAACCCTAACCCTAACCCTACCC</p></td>
<td><p>C</p></td>
<td><p>rs201106462</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>chr1</p></td>
<td><p>10621</p></td>
<td><p>GTTGCAAAGGCGCGCCGCGCCG</p></td>
<td><p>G</p></td>
<td><p>rs376342519</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>chr1</p></td>
<td><p>12940</p></td>
<td><p>AAACA</p></td>
<td><p>A</p></td>
<td><p>rs756849893</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>chr1</p></td>
<td><p>13421</p></td>
<td><p>A</p></td>
<td><p>AGAGA</p></td>
<td><p>rs777038595</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>chr1</p></td>
<td><p>15189</p></td>
<td><p>CGGGCACTGATGAGACAGCGGC</p></td>
<td><p>C</p></td>
<td><p>rs768510816</p></td>
<td><p>6</p></td>
</tr>
</tbody>
</table>
<div class="highlight-gor notranslate"><div class="highlight"><pre><span></span><span class="nd">gor</span> #dbsnp# | <span class="nb">WHERE</span> len(<span class="na">reference</span>) &gt; 4 OR len(<span class="na">allele</span>) &gt; 4 | <span class="nb">ROWNUM</span> | <span class="nb">TOP</span> 6
</pre></div>
</div>
<p>The row numbers are added to the output as a column with the title <code class="docutils literal notranslate"><span class="pre">rownum</span></code>.</p>
<p>Take care when using row numbers with GOR queries containing <a class="reference internal" href="nestedStreams.html#nestedstreams"><span class="std std-ref">nested queries</span></a> as the nested queries are also given unique row numbers by this command, which may lead to unexpected results.</p>
<p>If we were to add the <a class="reference internal" href="command/ROWNUM.html#rownum"><span class="std std-ref">ROWNUM</span></a> command before (and after) the <a class="reference internal" href="command/WHERE.html#where"><span class="std std-ref">WHERE</span></a> command above, you can see where the filtered data points occur in relation to the whole variant table, which could be useful for data plots. That example is shown below:</p>
<table class="docutils align-default" id="table-5">
<caption><span class="caption-text">#dbsnp# (with a calculated column showing the reference length)</span><a class="headerlink" href="#table-5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 10.0%" />
<col style="width: 20.0%" />
<col style="width: 10.0%" />
<col style="width: 10.0%" />
<col style="width: 30.0%" />
<col style="width: 10.0%" />
<col style="width: 10.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Chrom</p></th>
<th class="head"><p>POS</p></th>
<th class="head"><p>reference</p></th>
<th class="head"><p>allele</p></th>
<th class="head"><p>rsIDs</p></th>
<th class="head"><p>rownum</p></th>
<th class="head"><p>rownumx</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>chr1</p></td>
<td><p>10233</p></td>
<td><p>CCTAACCCTAACCCTAAACCCTAAACCC</p></td>
<td><p>C</p></td>
<td><p>rs200462216</p></td>
<td><p>24</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>chr1</p></td>
<td><p>10332</p></td>
<td><p>CCTAACCCTAACCCTAACCCTACCC</p></td>
<td><p>C</p></td>
<td><p>rs201106462</p></td>
<td><p>58</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>chr1</p></td>
<td><p>10621</p></td>
<td><p>GTTGCAAAGGCGCGCCGCGCCG</p></td>
<td><p>G</p></td>
<td><p>rs376342519</p></td>
<td><p>104</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>chr1</p></td>
<td><p>12940</p></td>
<td><p>AAACA</p></td>
<td><p>A</p></td>
<td><p>rs756849893</p></td>
<td><p>146</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>chr1</p></td>
<td><p>13421</p></td>
<td><p>A</p></td>
<td><p>AGAGA</p></td>
<td><p>rs777038595</p></td>
<td><p>183</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>chr1</p></td>
<td><p>15189</p></td>
<td><p>CGGGCACTGATGAGACAGCGGC</p></td>
<td><p>C</p></td>
<td><p>rs768510816</p></td>
<td><p>234</p></td>
<td><p>6</p></td>
</tr>
</tbody>
</table>
<div class="highlight-gor notranslate"><div class="highlight"><pre><span></span><span class="nd">gor</span> #dbsnp# | <span class="nb">ROWNUM</span> | <span class="nb">WHERE</span> len(<span class="na">reference</span>) &gt; 4 OR len(<span class="na">allele</span>) &gt; 4 | <span class="nb">ROWNUM</span> | <span class="nb">TOP</span> 6
</pre></div>
</div>
</section>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="groupingAndAggregation.html" class="btn btn-neutral float-right" title="Grouping and Aggregation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="filteringStreams.html" class="btn btn-neutral float-left" title="Filtering Streams" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020 GOR Open Source Project

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>